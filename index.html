<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login / Signup Demo</title>
<link rel="stylesheet" href="style.css">
<link rel="manifest" href="/manifest.json">
<meta name="theme-color" content="#000">
</head>
<body>

<div class="scene" aria-hidden="true"></div>

<div class="card" role="region" aria-label="Authentication card">

  <!-- 左侧展示区 -->
  <div class="hero">
    <div class="logo">
      <div class="mark">SM</div>
      <div>
        <h1>Studio Mythic</h1>
        <p>美观的游戏与 Demo — 简单、快速、创意。</p>
      </div>
    </div>
    <h2>强烈 · 优雅 · 安全感</h2>
    <p class="desc">示例登录 / 注册界面，带密码强度提示与客户端哈希演示。</p>
    <div class="decor-sprite" aria-hidden="true"></div>
    <div style="margin-top:auto" class="muted small">提示: 数据仅保存本地，用于演示。</div>
  </div>

  <!-- 右侧表单区 -->
  <div class="panel" aria-live="polite">

    <!-- Tab切换 -->
    <div class="tabs" role="tablist" aria-label="Authentication tabs">
      <div class="tab active" id="tab-login" role="tab" aria-selected="true" tabindex="0">登录</div>
      <div class="tab" id="tab-signup" role="tab" aria-selected="false" tabindex="0">创建账号</div>
    </div>

    <!-- 登录表单 -->
    <form id="form-login" autocomplete="on" novalidate>
      <label for="login-email">邮箱 / 用户名</label>
      <input class="input" id="login-email" type="text" placeholder="输入邮箱或用户名" required>
      <label for="login-pass">密码</label>
      <div class="pw-wrap">
        <input class="input" id="login-pass" type="password" placeholder="输入密码" required>
        <span class="pw-toggle" data-target="login-pass">显示</span>
      </div>
      <div class="helper-row">
        <label class="small"><input type="checkbox" id="remember"> 记住我</label>
        <div class="muted small">忘记密码？ <span class="link" id="fake-reset">重置</span></div>
      </div>
      <div class="actions">
        <button type="submit" class="btn">登录</button>
        <button type="button" class="ghost" id="to-signup">注册新账号</button>
      </div>
      <div id="login-msg" class="err" role="status" aria-live="polite"></div>
    </form>

    <!-- 注册表单 -->
    <form id="form-signup" style="display:none" autocomplete="on" novalidate>
      <div class="row">
        <div class="half">
          <label for="su-first">名字</label>
          <input class="input" id="su-first" type="text" placeholder="名字" required>
        </div>
        <div class="half">
          <label for="su-last">姓氏</label>
          <input class="input" id="su-last" type="text" placeholder="姓氏" required>
        </div>
      </div>
      <label for="su-email">邮箱</label>
      <input class="input" id="su-email" type="email" placeholder="you@example.com" required>
      <label for="su-pass">密码</label>
      <div class="pw-wrap">
        <input class="input" id="su-pass" type="password" placeholder="至少 8 个字符" required>
        <span class="pw-toggle" data-target="su-pass">显示</span>
      </div>
      <div class="pw-meter" aria-hidden="true"><i id="pw-bar"></i></div>
      <div id="pw-hint" class="small muted">长度与字符多样性越高，强度越高。</div>
      <label for="su-pass2">确认密码</label>
      <input class="input" id="su-pass2" type="password" placeholder="再输一次密码" required>
      <div class="actions">
        <button class="btn" type="submit">创建账号</button>
        <button type="button" class="ghost" id="to-login">去登录</button>
      </div>
      <div id="signup-msg" class="err" role="status" aria-live="polite"></div>
    </form>

    <footer class="note">前端示例 — 切勿在生产中直接存密码明文。</footer>
  </div>
</div>

<script src="app.js"></script>
<!-- Firebase SDKs -->
<script type="module">
  // Import the functions you need from the SDKs
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
  import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } 
    from "https://www.gstatic.com/firebasejs/10.14.0/firebase-auth.js";

  // Initialize Firebase
  const firebaseConfig = {
  apiKey: "AIzaSyBCIVYd8e5vBeGRz-H12Nj9hd5dyqnZCDI",
  authDomain: "guardiangate-7xkgi.firebaseapp.com",
  projectId: "guardiangate-7xkgi",
  storageBucket: "guardiangate-7xkgi.firebasestorage.app",
  messagingSenderId: "133766737758",
  appId: "1:133766737758:web:38de135254fef4664769cf"
};

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // Make auth available globally
  window.firebaseAuth = auth;
  window.firebaseCreateUser = createUserWithEmailAndPassword;
  window.firebaseSignIn = signInWithEmailAndPassword;
</script>
</body>
</html>
